
## Magic methods
Magic methods (магические методы) - это методы в Python, которые начинаются и заканчиваются двойным подчеркиванием (например, `__init__()`). Они предоставляют способ переопределения стандартного поведения объектов в Python и используются для реализации основных операций в языке, таких как сложение, умножение, сравнение, вызов и т.д.

Некоторые примеры магических методов:

- `__init__(self, ...)`: конструктор объекта, который вызывается при создании нового экземпляра класса.

- `__str__(self)`: метод, который вызывается при приведении объекта к строке с помощью функции `str()` или при выводе объекта в консоль с помощью функции `print()`. Возвращает строковое представление объекта.

- `__eq__(self, other)`: метод, который определяет операцию равенства (`==`) между объектами.

- `__lt__(self, other)`: метод, который определяет операцию меньше (`<`) между объектами.

- `__add__(self, other)`: метод, который определяет операцию сложения (`+`) между объектами.

- `__sub__(self, other)`: метод, который определяет операцию вычитания (`-`) между объектами.

- `__mul__(self, other)`: метод, который определяет операцию умножения (`*`) между объектами.

- `__call__(self, ...)`: метод, который позволяет вызывать объект как функцию.

- `__del__(self)`: деструктор объекта, который вызывается при удалении объекта.

- `__repr__(self)`: метод, который вызывается при использовании функции `repr()` для объекта. Возвращает строковое представление объекта.

- `__len__(self)`: метод, который возвращает длину объекта, когда он передается в функцию `len()`.

- `__getitem__(self, key)`: метод, который позволяет получать элементы объекта по индексу или ключу, как если бы объект был контейнером.

- `__setitem__(self, key, value)`: метод, который позволяет изменять элементы объекта по индексу или ключу.

- `__iter__(self)`: метод, который возвращает итератор для объекта, позволяя его использовать в циклах `for`.

- `__next__(self)`: метод, который позволяет получать следующий элемент итератора, используя цикл `for`.

- `__eq__(self, other)`: метод, который определяет операцию равенства (`==`) между объектами.

- `__lt__(self, other)`: метод, который определяет операцию меньше (`<`) между объектами.

- `__add__(self, other)`: метод, который определяет операцию сложения (`+`) между объектами.

- `__sub__(self, other)`: метод, который определяет операцию вычитания (`-`) между объектами.

- `__mul__(self, other)`: метод, который определяет операцию умножения (`*`) между объектами.

- `__div__(self, other)`: метод, который определяет операцию деления (`/`) между объектами.

- `__getattr__(self, name)`: метод, который вызывается, когда происходит обращение к несуществующему атрибуту объекта.

- `__setattr__(self, name, value)`: метод, который вызывается, когда происходит установка значения для атрибута объекта.

Например, если мы хотим создать класс `Vector`, который будет представлять собой вектор в трехмерном пространстве и поддерживать операции сложения и умножения на число, мы можем определить следующие магические методы:

```python
class Vector:
    def __init__(self, x, y, z):
        self.x = x
        self.y = y
        self.z = z

    def __str__(self):
        return f"({self.x}, {self.y}, {self.z})"

    def __eq__(self, other):
        return self.x == other.x and self.y == other.y and self.z == other.z

    def __add__(self, other):
        return Vector(self.x + other.x, self.y + other.y, self.z + other.z)

    def __sub__(self, other):
        return Vector(self.x - other.x, self.y - other.y, self.z - other.z)

    def __mul__(self, k):
        return Vector(self.x * k, self.y * k, self.z * k)
```

В этом примере мы определили магические методы `__init__()`, `__str__()`, `__eq__()`, `__add__()`, `__sub__()` и `__mul__()`. Метод `__init__()` инициализирует объект класса, метод `__str__()` возвращает строковое представление объекта, метод `__eq__()` определяет равенство объектов класса, методы `__add__()`, `__sub__()` и `__mul__()` определяют операции сложения, вычитания и умножения между объектами класса.

Теперь мы можем использовать объекты класса `Vector` для выполнения операций сложения, вычитания и умножения на число:

```python
v1 = Vector(1, 2, 3)
v2 = Vector(4, 5, 6)

print(v1 + v2)  # выводит (5, 7, 9)
print(v1 - v2)  # выводит (-3, -3, -3)
print(v1 * 2)   # выводит (2, 4, 6)
```

В этом примере мы создали два объекта класса `Vector` (`v1` и `v2`) и использовали магические методы `__add__()`, `__sub__()` и `__mul__()` для выполнения операций сложения, вычитания и умножения на число. Python автоматически вызывает соответствующие магические методы при выполнении операций.

Магические методы - это мощный инструмент, который позволяет создавать объекты в Python с переопределенным поведением. Они также позволяют создавать более читаемый код и упрощать использование объектов в программе.


В Python есть множество магических методов для классов, которые позволяют переопределить стандартное поведение объектов в языке. Некоторые из них:


Это далеко не полный список магических методов в Python, но они являются наиболее часто используемыми.
