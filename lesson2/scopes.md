# Области видимости в Python

Область видимости - это область программы, в которой определен объект (переменная, функция и т.д.), в которой он может быть доступен. В Python существует несколько уровней областей видимости.

## Глобальная область видимости

Глобальная область видимости - это область видимости, в которой определены объекты на верхнем уровне программы, за пределами всех функций. Объекты, определенные в глобальной области видимости, могут быть использованы в любой функции в программе. Например:

```python
x = 5 # переменная x определена в глобальной области видимости

def my_func():
    print(x) # используется переменная x из глобальной области видимости

my_func() # выводит значение 5
```

Если мы хотим изменить значение переменной из глобальной области видимости внутри функции, то мы должны явно объявить переменную как глобальную. Например:

```python
x = 5 # переменная x определена в глобальной области видимости

def my_func():
    global x # объявляем x как глобальную переменную
    x = 10 # изменяем значение x

my_func() # вызываем функцию, которая изменит значение переменной x
print(x) # выводит значение 10
```

## Локальная область видимости

Локальная область видимости - это область видимости, в которой определены объекты внутри функции. Объекты, определенные в локальной области видимости, не могут быть использованы за пределами функции. Например:

```python
def my_func():
    y = 7 # переменная y определена в локальной области видимости
    print(y)

my_func() # выводит значение 7
print(y) # вызовет ошибку "NameError: name 'y' is not defined"
```

## Область видимости вложенных функций

Область видимости вложенных функций - это область видимости, в которой определены объекты внутри вложенной функции. Объекты, определенные в области видимости вложенной функции, не могут быть использованы во внешней функции или глобальной области видимости. Например:

```python
def outer_func():
    x = 5 # переменная x определена во внешней функции

    def inner_func():
        y = 7 # переменная y определена во вложенной функции
        print(x, y)

    inner_func() # вызывает вложенную функцию, которая выводит значения x и y

outer_func() # выводит значения 5 и 7
print(x) # вызовет ошибку "Name
```
## Область видимости в циклах

Область видимости переменной в цикле зависит от того, где переменная была определена. Если переменная была определена за пределами цикла, то она будет иметь глобальную область видимости и будет доступна в цикле. Если переменная была определена внутри цикла, то она будет иметь локальную область видимости и не будет доступна за пределами цикла. Например:

```python
# переменная x определена в глобальной области видимости
x = 5

for i in range(3):
    # переменная y имеет локальную область видимости
    y = i * 2
    print(x, y)

# переменная y не доступна за пределами цикла
print(y) # вызовет ошибку "NameError: name 'y' is not defined"
```

## Область видимости в comprehensions

Comprehensions в Python позволяют создавать коллекции на основе других коллекций в одной строке кода. Объекты, определенные в comprehensions, имеют локальную область видимости и не могут быть использованы за пределами comprehensions. Например:

```python
# comprehensions создает список на основе другого списка
new_list = [x * 2 for x in [1, 2, 3]]

# переменная x имеет локальную область видимости в comprehensions
print(x) # вызовет ошибку "NameError: name 'x' is not defined"
```

## Область видимости в lambda-функциях

Lambda-функции в Python - это анонимные функции, которые могут быть использованы в одной строке кода. Объекты, определенные в lambda-функциях, имеют локальную область видимости и не могут быть использованы за пределами lambda-функции. Например:

```python
# lambda-функция, которая возвращает квадрат числа
square = lambda x: x ** 2

# переменная y имеет локальную область видимости в lambda-функции
print(y) # вызовет ошибку "NameError: name 'y' is not defined"
```

## Выводы

В Python существуют различные уровни областей видимости, которые определяют доступность объектов в разных частях программы. Понимание областей видимости является важной частью разработки в Python и помогает избежать ошибок и неожиданного поведения программы.
